# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ Xamarin

## –î–∞—Ç–∞: 11 –Ω–æ—è–±—Ä—è 2025 (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –±–æ—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã. –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –º–µ—Ç–æ–¥–µ –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤.

### –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
> "–º–æ–∂–µ—Ç –æ–Ω –Ω–µ –∏—â–µ—Ç –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–æ–≤?"

**–û–∫–∞–∑–∞–ª–æ—Å—å –≤–µ—Ä–Ω—ã–º!** ‚úÖ

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –°—Ç–∞—Ä—ã–π –∫–æ–¥ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `glob.glob`):
```python
for pattern in patterns:
    # –ò—â–µ–º –≤ –∫–æ—Ä–Ω–µ –∏ –≤–æ –≤—Å–µ—Ö –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∞—Ö
    search_pattern = os.path.join(base_path, '**', pattern)
    found_files = glob.glob(search_pattern, recursive=True)
```

### –ü—Ä–æ–±–ª–µ–º–∞:
–•–æ—Ç—è –≤ –∫–æ–¥–µ –±—ã–ª —Ñ–ª–∞–≥ `recursive=True`, —Ñ—É–Ω–∫—Ü–∏—è `glob.glob()` —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º `**` –º–æ–≥–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç:
- –í–µ—Ä—Å–∏–∏ Python
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ù–∞–ª–∏—á–∏—è —Å–∏–º–ª–∏–Ω–∫–æ–≤
- –ü—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ù–æ–≤—ã–π –∫–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `os.walk`):
```python
# –°—É—Ñ—Ñ–∏–∫—Å—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
platform_suffixes = [
    '.Android.csproj',
    '.iOS.csproj',
    '.UWP.csproj',
    '.WinPhone.csproj',
    '.Droid.csproj'
]

# –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –≤—Å–µ –ø–∞–ø–∫–∏
for root, dirs, files in os.walk(base_path):
    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏ (–Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å —Ç–æ—á–∫–∏)
    dirs[:] = [d for d in dirs if not d.startswith('.')]

    for file in files:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ª–∏ —Ñ–∞–π–ª –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤
        for suffix in platform_suffixes:
            if file.endswith(suffix):
                full_path = os.path.join(root, file)
                rel_path = os.path.relpath(full_path, base_path)
                platform_projects.append(rel_path)
                logger.info(f"‚úì –ù–∞–π–¥–µ–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: {rel_path}")
                break
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

1. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: `os.walk()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ –ø–æ–¥–ø–∞–ø–∫–∏
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –¥–µ—Ä–µ–≤—É –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ `glob`
3. **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ú–æ–∂–µ–º –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏ (`.git`, `.vs` –∏ —Ç.–¥.)
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ –º–∞–≥–∏–∏ `**`

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ê—Å–ø–µ–∫—Ç | `glob.glob()` | `os.walk()` |
|--------|---------------|-------------|
| –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–µ—Ä—Å–∏–∏ Python | ‚úÖ –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç |
| –°–∫—Ä—ã—Ç—ã–µ –ø–∞–ø–∫–∏ | –°–ª–æ–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å | ‚úÖ –õ–µ–≥–∫–æ –∏—Å–∫–ª—é—á–∏—Ç—å |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ | ‚úÖ –û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ |
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å | –ü–∞—Ç—Ç–µ—Ä–Ω—ã `**` –Ω–µ –æ—á–µ–≤–∏–¥–Ω—ã | ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ |
| –û—Ç–ª–∞–¥–∫–∞ | –°–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–¥—ë—Ç –Ω–µ —Ç–∞–∫ | ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ |

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –§–∞–π–ª—ã:
- `python/src/easybuild_bot/version_services/xamarin_version_service.py`
  - –ú–µ—Ç–æ–¥ `_find_platform_projects()` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω —Å `glob` –Ω–∞ `os.walk`
  - –£–¥–∞–ª—ë–Ω –∏–º–ø–æ—Ä—Ç `glob`
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

- `python/scripts/check_xamarin_structure.py`
  - –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–π –∂–µ –ª–æ–≥–∏–∫–∏
  - –¢–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É –±–æ—Ç–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
WARNING - –ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (*.Android.csproj, *.iOS.csproj)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
INFO - –ü–æ–∏—Å–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ Xamarin –≤ /path/to/repo
INFO - –ò—â–µ–º —Ñ–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏: .Android.csproj, .iOS.csproj, ...
INFO - ‚úì –ù–∞–π–¥–µ–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: MyApp/MyApp.Android/MyApp.Android.csproj
INFO - ‚úì –ù–∞–π–¥–µ–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: MyApp/MyApp.iOS/MyApp.iOS.csproj
INFO - ‚úì –í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤: 2
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
cd /home/olinyavod/projects/easybuild_bot/python
python3 scripts/check_xamarin_structure.py repos/fintech
```

–°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—É –∂–µ –ª–æ–≥–∏–∫—É**, —á—Ç–æ –∏ –±–æ—Ç, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ü–æ—á–µ–º—É `glob` –º–æ–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å?

1. **Python 3.5+**: `**` —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ `recursive=True`
2. **–°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏**: `glob` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Ö –Ω–µ —Å–ª–µ–¥—É–µ—Ç
3. **–ö–æ–¥–∏—Ä–æ–≤–∫–∏ –ø—É—Ç–µ–π**: –ü—Ä–æ–±–ª–µ–º—ã —Å non-ASCII –∏–º–µ–Ω–∞–º–∏
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

### –ü–æ—á–µ–º—É `os.walk` –ª—É—á—à–µ?

- –û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∫—É—Ä—Å–∏–∏
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ–±—Ö–æ–¥–æ–º
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –ª–µ—Ç—É

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   cd /home/olinyavod/projects/easybuild_bot/python
   ./restart_bot.sh
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   tail -50 bot.log | grep "–ù–∞–π–¥–µ–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç"
   ```

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑** - —Ç–µ–ø–µ—Ä—å —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –Ω–∞–π—Ç–∏—Å—å! ‚úÖ

---

**–°–ø–∞—Å–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å!** üôè
–¢–æ—á–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –ø–æ–º–æ–≥–ª–æ –Ω–∞–π—Ç–∏ –Ω–∞—Å—Ç–æ—è—â—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã.


